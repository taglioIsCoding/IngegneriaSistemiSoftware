
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/css/foundation.min.css" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/js/foundation.min.js"crossorigin="anonymous"></script> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/templateISS.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/main.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/navbar.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/table.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/code.css">
        <!-- <script type="text/javascript" src="./commons/resources/scripts/myScripts.js"></script> -->
<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
	font-size: 93%;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
	border-radius: 10px;
	padding: 5px;
}

top {
	width: 100%;
}


#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 90%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #abe876;
    color: #1632cc;
}
bc{
	font-family: "Arial";
	font-size: 90%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	font-size: 90%;
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	font-size: 90%;
}
pre{
	font-family: "Consolas";
	font-size: 85%;
	background-color: #f5f5f5;
	border: 1.5px solid silver;
	padding: 5px;
}
m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{
	 
    font-size: 18px;
}
k{
    color: #990000;
	font-weight: bold;
	font-size: 90%;
}
h1 {
    font-size: 150%;
    background-color: #b2c0ff;
	padding: 10px;
}

h2 {
    background-color: #9ed8ff;
    font-size: 130%;
}

h3 {
	background-color: #e6ccff;
    font-size: 100%;
}
h4 {
    background-color: #ccffcc;
    font-size: 100%;
	width: 95%;
	border-radius: 5px;
	padding: 2px;
}
h5 {
    background-color: #d5ffb0;
    font-size: 100%;

}
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}
div.remark{
	background-color: #E3F2FD;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

ol, ul, li {
  margin: 0;
  margin-left: 10px;
  padding: 0;
  padding-bottom: 5px;
}

table, th, td {
	border: 1px solid black;
}

img {
	border: 1.5px solid #d5f2ed

}

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

div.wrapdesc{
	width: 90%;
	margin: auto;
}

div.imagedesc{
	width: 85%;
	margin: auto;
}
</style>
    
 
   
</head>
	
		
  


   
<title>Tagliani SONAR</title></head>
    
<!--
	<body onload="loadNav();">
		<div id="openButton" class="openButton" onclick="openNav(true)">&#9776; Menu</div>
		<div id="sidenav" class="sidenav">
			<a class="closeButton" href="javascript:void(0)" onclick="closeNav(true)">&times;</a>
			<a href=".README.html">ReadMe</a>
			<a class="sprint" href="../../../Sprint0/Codice/userDocs/Cold%20Storage%20Service%20-%20Natali%20V3.html">Sprint0</a>
			<a class="sprint" href="../../../Sprint1.0/Codice/userDocs/Sprint%201.0%20-%20V3.html">Sprint1.0</a>
			<a class="sprint" href="../../../Sprint1.1/Codice/userDocs/Sprint%201.1%20-%20V3.html">Sprint1.1</a>
			<a id="currentSprint" class="sprint" href="#">&#8211;&#8212; Sprint2 &#8212;&#8211;</a>
			<div class="sidenavSection">
				<a href="#Goal Sprint 2">Goal Sprint 2</a>
				<a href="#Requisiti">Requisiti</a>
				<a href="#Analisi dei Requisiti">Analisi dei Requisiti</a>
				<a href="#Analisi del Problema">Analisi del Problema</a>
				<a href="#Test Plan">Test Plan</a>
				<a href="#Progettazione">Progettazione</a>
				<a href="#Deployment">Deployment</a>
			</div>
			<p class="separator">&mdash;&mdash;&mdash;&ndash;&ndash;&mdash;&mdash;&mdash;</p>
			<a class="sprint" href="../../../Sprint3/Codice/userDoc/Sprint%203.html">Sprint3</a>
			<bottom-spacer/>
		</div>
-->
<body>
<div id="top">
<h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE <font size="5"></font> </h1>
</div>  

<div class="body"> 
<h2>Introduction</h2>
Goal: sviluppare un componente software che utilizza il SONAR HC-SR04 e che sia in grado di:

ricevere via rete ed eseguire comandi di sonarstart/sonarstop
inviare ad altri componenti software i vaori di distanza rilevati, filtrati in modo che ogni valore D emesso sia un valore intero tale che 0 maggiore di di D minore di 150
 
<h2>Requirement analysis</h2>
Disponiamo di codice di basso livello sonar.py che attiva il sonar fisico e scrive sul dispositivo standard di output, a intervalli temporali fissi, i valori della distanza corrente rilevata.

Il codice sonar.py non è in grado di inviare informazioi in rete nè di ricevere comandi di sonarstart/sonarstop. Ha inoltre una forma di filtraggio dei valori molto limitata.

Non si ritiene opportuno modificare il codice di basso livello per rispondere alle esigenze applicative. Si ritiene invece più opportuno procedere in modo top down, partendo dalla definizione di un componente di alto livello, denominato sonar24 e modellato come un Actor capace di gestire i seguenti dispatch:

Dispatch sonarstart : sonarstart(X)
Dispatch sonarstop  : sonarstop(X)
Ricordando i concetti de La Clean Architecture, occorre ora rispondere alla seguente domanda:

come sonar24 intende ricevere i valori D della distanza misurata?

Per motivi di modularità ed estendiblità, si propende per l’uso di un event:

Event sonardata : distance(D)
Eventi di questo tipo si suppongono generati da un altro componente, denominato sonardevice, anch’esso modellato come un Actor

Per motivi di efficienza e per evitare l’inutile trasmissione di eventi via rete, si ritiene opportuno utilizzare il concetto di Attori streamer, e le primitive subscribeTo e emitLocalstream

Il componente sonardevice può incapsulare il codice di basso livello sonar.py e implementare i comandi sonarstart/sonarstop, che gli possono essere delegati da sonar24
Ne consegue la seguente Architettura Logica:

TODO AGGIUNGI IMMAGINI

La emissione di eventi con emitLocalstream non viene visualizzata. Se fosse emesso con emit si avrebbe:

TODO AGGIUNGI IMMAGINI

<h2>Problem analysis</h2>
La stazione per poter averre certezza del risultato dell'operazione di accensione/spegnimento invierà al sonar una request
e si aspetterà come reply il risultato dell'operazione. 
Il sensore verra' osservato dal sonar e invierà degli update ogni volta che verra' rilevato un ostacolo. 
Il sonar rivecuto l'aggiornamento dal sensore scatterà la foto e in caso rilevasse un lupo procedera' all'invio di una
dispatch alla stazione per segnare la presenza dell'animale.  


<h2>Test plans</h2> 
Ci ho pensato ma la discussione e' rimandata alla prossima lezione 

<!-- Analisi di un file di log -->

<h2>Project</h2> 
Iniziamo a progettare sonardevice in quanto e' il componente più complicato e rappresenta il core buisness. 
Bisognera' incapsulare sonar.py all'interno dell'attore e riuscrire ad utilizzare il sonar 

<ul>
<h4>Componenti</h4>
<li><a href=../src/wolfDetectionLocal.qak >wolfDetectionLocal</a></li>


<h2>Testing</h2>

<h2>Deployment</h2> 
 
<h2>Maintenance</h2> 

<h2>Auto Valutazione</h2> 
 B+
 Perchè penso di aver mappato correttamente i vari attori ma non mi era venuto in mente di utilizzare un pojo 
 all'interno dell'attore per rappresentare il sonar fisico e la telecamera
 
<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->
	      	
 	
</div>  

<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:left;color:white">
michele.tagliani2@studio.unibo.it,
<img src="./img/IMG_0838.jpg" alt="mbot" width="10%" height="10%"> <br/><br/>
https://github.com/taglioIsCoding/IngegneriaSistemiSoftware.git
</div> 
</body>
</html>
 

 


 